/*
 * Tabela: Tutor
*/
CREATE TABLE tutor (
id_tutor INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,,
nome VARCHAR(100),
endereco VARCHAR(150),
telefone VARCHAR(15),
email VARCHAR(100)
);

/* 
 * Tabela: Paciente
 */
CREATE TABLE paciente (
id_paciente INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
nome VARCHAR(100),
especie VARCHAR(50),
raca VARCHAR(50),
idade INTEGER,
peso NUMERIC(15,2),
id_tutor INTEGER,
FOREIGN KEY id_tutor REFERENCES tutor(id_tutor)
);

/*
 * Tabela: Veterin√°rio
 */
CREATE TABLE veterinario (
id_veterinario INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,,
nome VARCHAR(100),
especialidade VARCHAR(100),
telefone VARCHAR(15),
email VARCHAR(100)
);

/*
 * Tabela: agendamento
 */
CREATE TABLE agendamento (
id_agendamento INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,,
data_hora TIMESTAMP,
motivo CHAR(500),
id_paciente INTEGER,
FOREIGN KEY id_paciente REFERENCES paciente(id_paciente),
id_veterinario INTEGER,
FOREIGN KEY id_veterinario REFERENCES veterinario(id_veterinario)
);

/*
 * Tabela: medicamento
*/
CREATE TABLE medicamento (
id_medicamento INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,,
nome VARCHAR(100),
descricao CHAR(500),
preco NUMERIC(10,2)
);

/*
 * Tabela: receita
*/
CREATE TABLE receita (
id_receita INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
data_emissao DATE,
id_agendamento INTEGER,
FOREIGN KEY id_agendamento REFERENCES agendamento(id_agendamento)
)

/*
 * Tabela: item_receita 
*/
CREATE TABLE item_receita (
id_item_receita INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
quantidade INTEGER,
dosagem VARCHAR(50),
id_receita INTEGER,
FOREIGN KEY id_receita REFERENCES item_receita(id_item_receita),
id_medicamento INTEGER,
FOREIGN KEY id_medicamento REFERENCES medicamento(id_medicamento)
)
